{"version":3,"sources":["webpack:///./src/views/messageBoard.vue?1236","webpack:///./src/views/messageBoard.vue?6ee1","webpack:///src/views/messageBoard.vue","webpack:///./src/views/messageBoard.vue?5920","webpack:///./src/views/messageBoard.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_m","staticStyle","_v","model","value","callback","$$v","msg","expression","on","sendWord","_l","item","index","key","domProps","_s","username","livetime","staticRenderFns","data","showList","methods","date","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","sessionStorage","getItem","systemTime","res","code","$message","message","type","getData","components","navBar","created","$confirm","confirmButtonText","cancelButtonText","component"],"mappings":"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","file":"js/chunk-6a9bb15b.cff86b5e.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageBoard.vue?vue&type=style&index=0&id=f2c55a76&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav-bar',{attrs:{\"pages\":4}}),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"inner\"},[_vm._m(0),_c('p',{staticStyle:{\"padding-top\":\"6px\",\"font-size\":\"13px\"}},[_vm._v(\" 那些以前说着永不分离的人，早已经散落在天涯了。 \")]),_c('div',{staticClass:\"msg\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":6,\"placeholder\":\"请留下些记忆吧\",\"resize\":\"none\"},model:{value:(_vm.msg),callback:function ($$v) {_vm.msg=$$v},expression:\"msg\"}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sendWord}},[_vm._v(\"提交留言\")])],1),_c('div',{staticClass:\"head\"}),_vm._l((_vm.showList),function(item,index){return _c('div',{key:index,staticClass:\"liveWord\"},[_c('div',{staticStyle:{\"width\":\"100%\"}},[_c('p',{staticStyle:{\"color\":\"#409eff\"}},[_vm._v(\" 姓名：\"),_c('span',{staticStyle:{\"color\":\"black\"},domProps:{\"textContent\":_vm._s(item.username)}})]),_c('p',{staticStyle:{\"padding-top\":\"10px\",\"color\":\"#409eff\"}},[_vm._v(\" 留言内容：\"),_c('span',{staticStyle:{\"color\":\"black\"},domProps:{\"textContent\":_vm._s(item.msg)}}),_c('span',{staticStyle:{\"float\":\"right\"},domProps:{\"textContent\":_vm._s(item.livetime)}})])])])}),_c('div',{staticClass:\"bottom\"})],2)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('h1',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"留言板\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 留言板 -->\r\n    <nav-bar :pages=\"4\"></nav-bar>\r\n    <div class=\"main\">\r\n      <div class=\"inner\">\r\n        <div class=\"title\">\r\n          <h1 style=\"text-align: left\">留言板</h1>\r\n        </div>\r\n        <p style=\"padding-top: 6px; font-size: 13px\">\r\n          那些以前说着永不分离的人，早已经散落在天涯了。\r\n        </p>\r\n        <!-- <p>在这可以留下您的留言、意见或者其他想说的话。</p> -->\r\n        <div class=\"msg\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :rows=\"6\"\r\n            placeholder=\"请留下些记忆吧\"\r\n            v-model=\"msg\"\r\n            resize=\"none\"\r\n          ></el-input>\r\n          <el-button type=\"primary\" @click=\"sendWord\">提交留言</el-button>\r\n        </div>\r\n        <div class=\"head\"></div>\r\n        <div class=\"liveWord\" v-for=\"(item, index) of showList\" :key=\"index\">\r\n          <!-- 昵称、消息区 -->\r\n          <div style=\"width: 100%\">\r\n            <p style=\"color: #409eff\">\r\n              姓名：<span style=\"color:black\" v-text=\"item.username\"></span>\r\n            </p>\r\n            <p style=\"padding-top:10px;color: #409eff\">\r\n              留言内容：<span style=\"color:black\" v-text=\"item.msg\"></span\r\n              ><span style=\"float:right;\" v-text=\"item.livetime\"></span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div class=\"bottom\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport navBar from '@/components/navBar'\r\nimport { AddLiveWord, GetAllLiveWord } from '@/api/api'\r\nexport default {\r\n  data() {\r\n    return {\r\n      showList: [], // 显示的数据\r\n      msg: '' // 输入框\r\n    }\r\n  },\r\n  methods: {\r\n    // 提交留言功能\r\n    sendWord() {\r\n      // console.log(\"提交留言\");\r\n      // 调用接口，传递当前用户名、系统时间、留言信息\r\n      var date = new Date() //实例一个时间对象；\r\n      var year = date.getFullYear() //获取系统的年；\r\n      var month = date.getMonth() + 1 //获取系统月份，由于月份是从0开始计算，所以要加1\r\n      var day = date.getDate() // 获取系统日;\r\n      var hour = date.getHours() //获取系统时间\r\n      var minute = date.getMinutes() //分\r\n      var second = date.getSeconds() //秒\r\n      let systemTime =\r\n        year +\r\n        '/' +\r\n        month +\r\n        '/' +\r\n        day +\r\n        ' ' +\r\n        hour +\r\n        ':' +\r\n        minute +\r\n        ':' +\r\n        second +\r\n        '' // 格式化时间\r\n      let sendData = {\r\n        username: sessionStorage.getItem('username'), // 存储与session中的用户名\r\n        systemTime: systemTime, // 获取系统时间\r\n        msg: this.msg // 输入框中数据\r\n      }\r\n      // 调用接口，将数据写入数据库中\r\n      if (this.msg != '') {\r\n        AddLiveWord(sendData).then((res) => {\r\n          // console.log(res.data);\r\n          switch (res.data.code) {\r\n            case 1: {\r\n              this.$message({\r\n                message: res.data.msg,\r\n                type: 'success'\r\n              })\r\n              // alert(\"111\");\r\n              // 页面刷新\r\n              clearTimeout(t)\r\n              let t = setTimeout(() => {\r\n                window.location.reload()\r\n              }, 300)\r\n              break\r\n            }\r\n            case -1: {\r\n              this.$message({\r\n                message: res.data.msg,\r\n                type: 'warning'\r\n              })\r\n              break\r\n            }\r\n          }\r\n        })\r\n      } else {\r\n        this.$message({\r\n          message: '请输入留言内容',\r\n          type: 'warning'\r\n        })\r\n      }\r\n    },\r\n    getData() {\r\n      GetAllLiveWord().then((res) => {\r\n        this.showList = res.data\r\n      })\r\n    }\r\n  },\r\n  components: {\r\n    navBar\r\n  },\r\n  created() {\r\n    if (sessionStorage.getItem('username')) {\r\n      // console.log(\"已经登录，可以访问\");\r\n      // 数据渲染\r\n      this.getData()\r\n    } else {\r\n      // 未登录，不能访问，跳转到登录页\r\n      this.$confirm('未登录用户不能访问，是否跳转到登录页', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          //点击确定的操作(调用接口)\r\n          this.$router.push('/login')\r\n        })\r\n        .catch(() => {\r\n          //几点取消的提示\r\n          this.$router.push('/index')\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.main {\r\n  width: 80%;\r\n  margin-left: 10%;\r\n  padding-top: 20px;\r\n  min-height: 80vh;\r\n  text-align: left;\r\n  background-color: rgb(red, green, blue);\r\n  /* 不设置高度，使高度根据数据条数进行拓展 */\r\n  /* background: transparent; */\r\n}\r\n.title {\r\n  height: 55px;\r\n  border-bottom: 2px solid rgb(218, 217, 217);\r\n}\r\n.msg {\r\n  height: 220px;\r\n  padding-top: 10px;\r\n}\r\n.msg button {\r\n  margin-top: 8px;\r\n  float: right;\r\n}\r\n.liveWord {\r\n  border-bottom: 2px dashed rgb(179, 178, 178);\r\n  padding: 10px 0px;\r\n  line-height: 22px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.username {\r\n  color: #409eff;\r\n}\r\nbutton {\r\n  cursor: pointer; /* 鼠标经过按钮时，变为手状 */\r\n}\r\n.record {\r\n  padding-top: 8px;\r\n}\r\n.record button {\r\n  margin-top: 8px;\r\n  height: 35px;\r\n  text-align: center;\r\n  float: right;\r\n  margin-left: 5px;\r\n}\r\n.bottom {\r\n  height: 20px;\r\n}\r\n.head {\r\n  height: 5px;\r\n  border-bottom: 2px dashed rgb(179, 178, 178);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageBoard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageBoard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./messageBoard.vue?vue&type=template&id=f2c55a76&scoped=true&\"\nimport script from \"./messageBoard.vue?vue&type=script&lang=js&\"\nexport * from \"./messageBoard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./messageBoard.vue?vue&type=style&index=0&id=f2c55a76&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f2c55a76\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
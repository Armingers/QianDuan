(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d250832"],{2953:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-container",[i("el-aside",{attrs:{width:"300px"}},[i("div",{staticClass:"aside_top"},[i("img",{staticStyle:{height:"50px"},attrs:{src:n("cf05"),alt:""}}),i("p",{staticStyle:{"padding-left":"10px",color:"#409eff"}},[t._v(" 学失物招领系统 ")])]),i("el-collapse",{attrs:{accordion:""},on:{change:t.changeNumber},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-collapse-item",{attrs:{title:"用户管理",name:"1"}},[i("ul",[i("li",[i("el-button",{on:{click:t.getUserList}},[t._v("获取用户列表")])],1),i("li",[i("el-button",{on:{click:t.reGetUserList}},[t._v("刷新用户列表")])],1),i("li",[i("el-button",{on:{click:t.addUser}},[t._v("增加用户")])],1)])]),i("el-collapse-item",{attrs:{title:"失物信息管理",name:"2"}},[i("ul",[i("li",[i("el-button",{on:{click:t.getLostThings}},[t._v("获取失物信息列表")])],1),i("li",[i("el-button",{on:{click:t.reGetLostThings}},[t._v("刷新失物信息列表")])],1)])]),i("el-collapse-item",{attrs:{title:"招领信息管理",name:"3"}},[i("ul",[i("li",[i("el-button",{on:{click:t.getFoundThings}},[t._v("获取招领信息列表")])],1),i("li",[i("el-button",{on:{click:t.reGetFoundThings}},[t._v("刷新招领信息列表")])],1)])]),i("el-collapse-item",{attrs:{title:"留言板管理",name:"4"}},[i("ul",[i("li",[i("el-button",{on:{click:t.getWordData}},[t._v("获取留言板数据")])],1),i("li",[i("el-button",{on:{click:t.regetWordData}},[t._v("刷新留言板数据")])],1)])]),i("el-collapse-item",{attrs:{title:"小标语管理",name:"5"}},[i("ul",[i("li",[i("el-button",{on:{click:t.getTipsData}},[t._v("获取小标语数据")])],1),i("li",[i("el-button",{on:{click:t.regetTipsData}},[t._v("刷新小标语数据")])],1),i("li",[i("el-button",{on:{click:t.addTipsData}},[t._v("增加小标语数据")])],1)])]),i("el-collapse-item",{attrs:{title:"其他",name:"6"}},[i("ul",[i("li",[i("el-button",[t._v("暂无")])],1)])])],1)],1),i("el-container",[i("el-header",[i("router-link",{attrs:{to:"/login"},nativeOn:{click:function(e){return t.exit.apply(null,arguments)}}},[t._v("退出系统")])],1),i("el-main",[t._t("tableShows")],2),i("el-footer",[i("p",[t._v(" Copyright © 2020-2021. All Rights Reserved. 沫忆失忆版权所有 ")])])],1)],1)],1)},a=[],o={data:function(){return{activeName:sessionStorage.getItem("activeName"),tableData:[],tableBody:[],tableHeader:[]}},created:function(){},components:{},methods:{getUserList:function(){this.$emit("getUserList"),this.$router.push("/admin/user")},reGetUserList:function(){window.location.reload(),this.$router.push("/admin/user")},addUser:function(){this.$emit("showDialog",!0),this.$router.push("/admin/user")},exit:function(){sessionStorage.clear(),this.$message({message:"退出成功",type:"success"})},getLostThings:function(){this.$emit("getLostThings"),this.$router.push("/admin/lost")},reGetLostThings:function(){window.location.reload(),this.$router.push("/admin/lost")},getFoundThings:function(){this.$emit("getLostThings"),this.$router.push("/admin/found")},reGetFoundThings:function(){window.location.reload(),this.$router.push("/admin/found")},getWordData:function(){this.$emit("getLostThings"),this.$router.push("/admin/liveword")},regetWordData:function(){window.location.reload(),this.$router.push("/admin/liveword")},getTipsData:function(){this.$emit("getTipsData"),this.$router.push("/admin/tips")},regetTipsData:function(){window.location.reload(),this.$router.push("/admin/tips")},addTipsData:function(){this.$emit("addTipsData",!0),this.$router.push("/admin/tips")},changeNumber:function(){sessionStorage.setItem("activeName",this.activeName),this.activeName=sessionStorage.getItem("activeName")}}},r=o,s=(n("e030"),n("2877")),l=Object(s["a"])(r,i,a,!1,null,"af4da6ca",null);e["a"]=l.exports},"4ec3":function(t,e,n){"use strict";n.d(e,"x",(function(){return s})),n.d(e,"A",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"z",(function(){return c})),n.d(e,"p",(function(){return d})),n.d(e,"y",(function(){return f})),n.d(e,"o",(function(){return m})),n.d(e,"u",(function(){return h})),n.d(e,"i",(function(){return g})),n.d(e,"n",(function(){return p})),n.d(e,"s",(function(){return b})),n.d(e,"g",(function(){return D})),n.d(e,"l",(function(){return v})),n.d(e,"q",(function(){return w})),n.d(e,"e",(function(){return T})),n.d(e,"j",(function(){return k})),n.d(e,"a",(function(){return $})),n.d(e,"r",(function(){return y})),n.d(e,"f",(function(){return L})),n.d(e,"k",(function(){return x})),n.d(e,"B",(function(){return _})),n.d(e,"t",(function(){return U})),n.d(e,"b",(function(){return S})),n.d(e,"h",(function(){return N})),n.d(e,"m",(function(){return I})),n.d(e,"w",(function(){return B})),n.d(e,"v",(function(){return F})),n.d(e,"d",(function(){return W}));var i=n("bc3a"),a=n.n(i),o="http://127.0.0.1:5000";function r(t,e){return a.a.post(o+t,e).then((function(t){return t}))}var s=function(t){return r("/login",t)},l=function(t){return r("/register",t)},u=function(t){return r("/changePassword",t)},c=function(t){return r("/lostTings",t)},d=function(t){return r("/foundThings",t)},f=function(t){return r("/lostNotice",t)},m=function(t){return r("/foundNotice",t)},h=function(t){return r("/getAllUsers",t)},g=function(t){return r("/deleteUser",t)},p=function(t){return r("/editUserInfo",t)},b=function(t){return r("/getAllLost",t)},D=function(t){return r("/deleteLostInfo",t)},v=function(t){return r("/editLostInfo",t)},w=function(t){return r("/getAllFound",t)},T=function(t){return r("/deleteFoundInfo",t)},k=function(t){return r("/editFoundInfo",t)},$=function(t){return r("/addLiveWord",t)},y=function(t){return r("/getAllLiveWord",t)},L=function(t){return r("/deleteLiveWordData",t)},x=function(t){return r("/editLiveWordData",t)},_=function(t){return r("/searchId",t)},U=function(t){return r("/getAllTips",t)},S=function(t){return r("/addTips",t)},N=function(t){return r("/deleteTips",t)},I=function(t){return r("/editTips",t)},B=function(t){return r("/getUserLost",t)},F=function(t){return r("/getUserFound",t)},W=function(t){return r("/changeStatus",t)}},"6a3c":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("index-lay-out",{on:{getLostThings:t.getLostThings}},[n("template",{slot:"tableShows"},[n("el-table",{staticStyle:{width:"100%"},attrs:{"max-height":"598",data:t.tableBody}},[n("el-table-column",{attrs:{prop:"username",label:"发布人",width:"80"}}),n("el-table-column",{attrs:{prop:"title",label:"标题",width:"100"}}),n("el-table-column",{attrs:{prop:"address",label:"地点",width:"100"}}),n("el-table-column",{attrs:{prop:"lostTime",label:"丢失时间",width:"110"}}),n("el-table-column",{attrs:{prop:"imgUrl",label:"图片地址",width:"220"}}),n("el-table-column",{attrs:{prop:"remark",label:"备注",width:"290"}}),n("el-table-column",{attrs:{prop:"contact",label:"联系方式",width:"130"}}),n("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary"},on:{click:function(n){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"danger"},on:{click:function(n){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)],2),n("el-dialog",{staticClass:"editInfo",attrs:{title:"编辑失物信息",visible:t.showLostDialog},on:{"update:visible":function(e){t.showLostDialog=e}}},[n("el-form",{attrs:{"label-width":"100px"},model:{value:t.editData,callback:function(e){t.editData=e},expression:"editData"}},[n("el-form-item",{attrs:{label:"标题"}},[n("el-input",{model:{value:t.editData.title,callback:function(e){t.$set(t.editData,"title",e)},expression:"editData.title"}})],1),n("el-form-item",{attrs:{label:"地点"}},[n("el-input",{model:{value:t.editData.address,callback:function(e){t.$set(t.editData,"address",e)},expression:"editData.address"}})],1),n("el-form-item",{attrs:{label:"丢失时间"}},[n("el-input",{model:{value:t.editData.lostTime,callback:function(e){t.$set(t.editData,"lostTime",e)},expression:"editData.lostTime"}})],1),n("el-form-item",{attrs:{label:"图片地址"}},[n("el-input",{model:{value:t.editData.imgUrl,callback:function(e){t.$set(t.editData,"imgUrl",e)},expression:"editData.imgUrl"}})],1),n("el-form-item",{attrs:{label:"备注"}},[n("el-input",{attrs:{rows:3,type:"textarea"},model:{value:t.editData.remark,callback:function(e){t.$set(t.editData,"remark",e)},expression:"editData.remark"}})],1),n("el-form-item",{attrs:{label:"联系方式"}},[n("el-input",{model:{value:t.editData.contact,callback:function(e){t.$set(t.editData,"contact",e)},expression:"editData.contact"}})],1),n("el-form-item",{staticStyle:{float:"right"}},[n("el-button",{attrs:{type:"primary"},on:{click:t.editSure}},[t._v("确定")]),n("el-button",{attrs:{type:"danger"},on:{click:t.editExit}},[t._v("取消")])],1),n("div",{staticStyle:{width:"0",height:"0",clear:"both"}})],1)],1)],1)},a=[],o=n("2953"),r=n("4ec3"),s={data:function(){return{tableData:[],tableBody:[],tableHeader:[],showLostDialog:!1,editData:{id:"",title:"",address:"",lostTime:"",imgUrl:"",remark:"",contact:""}}},components:{indexLayOut:o["a"]},created:function(){var t=this;"admin"==sessionStorage.getItem("username")?(console.log("管理员登录"),this.getLostThings()):this.$confirm("非管理员用户不能访问，是否跳转到登录页","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$router.push("/login")})).catch((function(){t.$router.push("/login")}))},methods:{getLostThings:function(){var t=this;Object(r["s"])().then((function(e){t.tableData.push(e.data.tableData),t.tableHeader=t.tableData[0].tableHeader,t.tableBody=t.tableData[0].tableBody}))},handleEdit:function(t,e){this.showLostDialog=!0,this.editData.id=e.id,this.editData.title=e.title,this.editData.address=e.address,this.editData.lostTime=e.lostTime,this.editData.imgUrl=e.imgUrl,this.editData.remark=e.remark,this.editData.contact=e.contact},editSure:function(){var t=this;Object(r["l"])(this.editData).then((function(e){switch(e.data.code){case 1:t.showLostDialog=!1,clearTimeout(n);var n=setTimeout((function(){window.location.reload()}),300);t.$message({message:"修改成功",type:"success"});break;case 0:t.$message({message:"数据不存在，请咨询管理员",type:"warning"});break;case-1:t.$message({message:"编辑失物信息失败",type:"warning"});break}}))},editExit:function(){this.showLostDialog=!1,this.editData.title="",this.editData.address="",this.editData.lostTime="",this.editData.imgUrl="",this.editData.remark="",this.editData.contact=""},handleDelete:function(t,e){var n=this,i={id:e.id};this.$confirm("此操作将永久删除编号为".concat(i.id,"的数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["g"])(i).then((function(t){if(1==t.data.code){n.$message({type:"success",message:"删除成功!"}),clearTimeout(e);var e=setTimeout((function(){window.location.reload()}),300)}else n.$message({type:"danger",message:"删除失败!"})}))})).catch((function(){n.$message({type:"info",message:"已取消删除"})}))}}},l=s,u=(n("ac2d"),n("2877")),c=Object(u["a"])(l,i,a,!1,null,"4de065c6",null);e["default"]=c.exports},"79f2":function(t,e,n){},ac2d:function(t,e,n){"use strict";n("c111")},c111:function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"img/logo.93f11d75.png"},e030:function(t,e,n){"use strict";n("79f2")}}]);
//# sourceMappingURL=chunk-2d250832.721032de.js.map
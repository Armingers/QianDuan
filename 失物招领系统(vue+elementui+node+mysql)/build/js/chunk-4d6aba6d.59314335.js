(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d6aba6d"],{2953:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-container",[i("el-aside",{attrs:{width:"300px"}},[i("div",{staticClass:"aside_top"},[i("img",{staticStyle:{height:"50px"},attrs:{src:n("cf05"),alt:""}}),i("p",{staticStyle:{"padding-left":"10px",color:"#409eff"}},[t._v(" 学失物招领系统 ")])]),i("el-collapse",{attrs:{accordion:""},on:{change:t.changeNumber},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-collapse-item",{attrs:{title:"用户管理",name:"1"}},[i("ul",[i("li",[i("el-button",{on:{click:t.getUserList}},[t._v("获取用户列表")])],1),i("li",[i("el-button",{on:{click:t.reGetUserList}},[t._v("刷新用户列表")])],1),i("li",[i("el-button",{on:{click:t.addUser}},[t._v("增加用户")])],1)])]),i("el-collapse-item",{attrs:{title:"失物信息管理",name:"2"}},[i("ul",[i("li",[i("el-button",{on:{click:t.getLostThings}},[t._v("获取失物信息列表")])],1),i("li",[i("el-button",{on:{click:t.reGetLostThings}},[t._v("刷新失物信息列表")])],1)])]),i("el-collapse-item",{attrs:{title:"招领信息管理",name:"3"}},[i("ul",[i("li",[i("el-button",{on:{click:t.getFoundThings}},[t._v("获取招领信息列表")])],1),i("li",[i("el-button",{on:{click:t.reGetFoundThings}},[t._v("刷新招领信息列表")])],1)])]),i("el-collapse-item",{attrs:{title:"留言板管理",name:"4"}},[i("ul",[i("li",[i("el-button",{on:{click:t.getWordData}},[t._v("获取留言板数据")])],1),i("li",[i("el-button",{on:{click:t.regetWordData}},[t._v("刷新留言板数据")])],1)])]),i("el-collapse-item",{attrs:{title:"小标语管理",name:"5"}},[i("ul",[i("li",[i("el-button",{on:{click:t.getTipsData}},[t._v("获取小标语数据")])],1),i("li",[i("el-button",{on:{click:t.regetTipsData}},[t._v("刷新小标语数据")])],1),i("li",[i("el-button",{on:{click:t.addTipsData}},[t._v("增加小标语数据")])],1)])]),i("el-collapse-item",{attrs:{title:"其他",name:"6"}},[i("ul",[i("li",[i("el-button",[t._v("暂无")])],1)])])],1)],1),i("el-container",[i("el-header",[i("router-link",{attrs:{to:"/login"},nativeOn:{click:function(e){return t.exit.apply(null,arguments)}}},[t._v("退出系统")])],1),i("el-main",[t._t("tableShows")],2),i("el-footer",[i("p",[t._v(" Copyright © 2020-2021. All Rights Reserved. 沫忆失忆版权所有 ")])])],1)],1)],1)},a=[],o={data:function(){return{activeName:sessionStorage.getItem("activeName"),tableData:[],tableBody:[],tableHeader:[]}},created:function(){},components:{},methods:{getUserList:function(){this.$emit("getUserList"),this.$router.push("/admin/user")},reGetUserList:function(){window.location.reload(),this.$router.push("/admin/user")},addUser:function(){this.$emit("showDialog",!0),this.$router.push("/admin/user")},exit:function(){sessionStorage.clear(),this.$message({message:"退出成功",type:"success"})},getLostThings:function(){this.$emit("getLostThings"),this.$router.push("/admin/lost")},reGetLostThings:function(){window.location.reload(),this.$router.push("/admin/lost")},getFoundThings:function(){this.$emit("getLostThings"),this.$router.push("/admin/found")},reGetFoundThings:function(){window.location.reload(),this.$router.push("/admin/found")},getWordData:function(){this.$emit("getLostThings"),this.$router.push("/admin/liveword")},regetWordData:function(){window.location.reload(),this.$router.push("/admin/liveword")},getTipsData:function(){this.$emit("getTipsData"),this.$router.push("/admin/tips")},regetTipsData:function(){window.location.reload(),this.$router.push("/admin/tips")},addTipsData:function(){this.$emit("addTipsData",!0),this.$router.push("/admin/tips")},changeNumber:function(){sessionStorage.setItem("activeName",this.activeName),this.activeName=sessionStorage.getItem("activeName")}}},s=o,r=(n("e030"),n("2877")),u=Object(r["a"])(s,i,a,!1,null,"af4da6ca",null);e["a"]=u.exports},"4ec3":function(t,e,n){"use strict";n.d(e,"x",(function(){return r})),n.d(e,"A",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"z",(function(){return d})),n.d(e,"p",(function(){return c})),n.d(e,"y",(function(){return f})),n.d(e,"o",(function(){return m})),n.d(e,"u",(function(){return h})),n.d(e,"i",(function(){return g})),n.d(e,"n",(function(){return p})),n.d(e,"s",(function(){return w})),n.d(e,"g",(function(){return b})),n.d(e,"l",(function(){return v})),n.d(e,"q",(function(){return D})),n.d(e,"e",(function(){return U})),n.d(e,"j",(function(){return $})),n.d(e,"a",(function(){return y})),n.d(e,"r",(function(){return k})),n.d(e,"f",(function(){return T})),n.d(e,"k",(function(){return x})),n.d(e,"B",(function(){return _})),n.d(e,"t",(function(){return I})),n.d(e,"b",(function(){return L})),n.d(e,"h",(function(){return S})),n.d(e,"m",(function(){return N})),n.d(e,"w",(function(){return P})),n.d(e,"v",(function(){return B})),n.d(e,"d",(function(){return A}));var i=n("bc3a"),a=n.n(i),o="http://127.0.0.1:5000";function s(t,e){return a.a.post(o+t,e).then((function(t){return t}))}var r=function(t){return s("/login",t)},u=function(t){return s("/register",t)},l=function(t){return s("/changePassword",t)},d=function(t){return s("/lostTings",t)},c=function(t){return s("/foundThings",t)},f=function(t){return s("/lostNotice",t)},m=function(t){return s("/foundNotice",t)},h=function(t){return s("/getAllUsers",t)},g=function(t){return s("/deleteUser",t)},p=function(t){return s("/editUserInfo",t)},w=function(t){return s("/getAllLost",t)},b=function(t){return s("/deleteLostInfo",t)},v=function(t){return s("/editLostInfo",t)},D=function(t){return s("/getAllFound",t)},U=function(t){return s("/deleteFoundInfo",t)},$=function(t){return s("/editFoundInfo",t)},y=function(t){return s("/addLiveWord",t)},k=function(t){return s("/getAllLiveWord",t)},T=function(t){return s("/deleteLiveWordData",t)},x=function(t){return s("/editLiveWordData",t)},_=function(t){return s("/searchId",t)},I=function(t){return s("/getAllTips",t)},L=function(t){return s("/addTips",t)},S=function(t){return s("/deleteTips",t)},N=function(t){return s("/editTips",t)},P=function(t){return s("/getUserLost",t)},B=function(t){return s("/getUserFound",t)},A=function(t){return s("/changeStatus",t)}},"5f47":function(t,e,n){},6279:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("index-lay-out",{on:{getUserList:t.getUserList,showDialog:t.showDialog}},[n("template",{slot:"tableShows"},[n("el-table",{staticStyle:{width:"100%"},attrs:{"max-height":"598",data:t.tableBody}},[n("el-table-column",{attrs:{prop:"username",label:"用户名",width:"400px"}}),n("el-table-column",{attrs:{prop:"password",label:"密码",width:"400px"}}),n("el-table-column",{attrs:{label:"操作",width:"420px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary"},on:{click:function(n){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"danger"},on:{click:function(n){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)],2),n("el-dialog",{staticClass:"addUserStyle",attrs:{title:"新增用户",visible:t.addDialog,width:"500px"},on:{"update:visible":function(e){t.addDialog=e}}},[n("div",{staticClass:"inner"},[n("el-form",{ref:"form",attrs:{model:t.addUserData,"label-width":"70px"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{model:{value:t.addUserData.username,callback:function(e){t.$set(t.addUserData,"username",e)},expression:"addUserData.username"}})],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{model:{value:t.addUserData.password,callback:function(e){t.$set(t.addUserData,"password",e)},expression:"addUserData.password"}})],1),n("el-form-item",{attrs:{label:"确认密码"}},[n("el-input",{model:{value:t.addUserData.rewritePassword,callback:function(e){t.$set(t.addUserData,"rewritePassword",e)},expression:"addUserData.rewritePassword"}})],1),n("el-form-item",{staticStyle:{float:"right"}},[n("el-button",{attrs:{type:"primary"},on:{click:t.register}},[t._v("注册")]),n("el-button",{attrs:{type:"danger"},on:{click:t.closeDialog}},[t._v("取消")])],1),n("div",{staticStyle:{width:"0",height:"0",clear:"both"}})],1)],1)]),n("el-dialog",{staticClass:"editUserStyle",attrs:{title:"编辑信息",visible:t.editUser,width:"500px"},on:{"update:visible":function(e){t.editUser=e}}},[n("div",{staticClass:"inner"},[n("el-form",{ref:"form",attrs:{model:t.editInfo,"label-width":"60px"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{model:{value:t.editInfo.username,callback:function(e){t.$set(t.editInfo,"username",e)},expression:"editInfo.username"}})],1),n("el-form-item",{attrs:{label:"原密码"}},[n("el-input",{model:{value:t.editInfo.oldPassword,callback:function(e){t.$set(t.editInfo,"oldPassword",e)},expression:"editInfo.oldPassword"}})],1),n("el-form-item",{staticStyle:{float:"right"}},[n("el-button",{attrs:{type:"primary"},on:{click:t.editClick}},[t._v("确定")]),n("el-button",{attrs:{type:"danger"},on:{click:t.closeEditDialog}},[t._v("取消")])],1),n("div",{staticStyle:{width:"0",height:"0",clear:"both"}})],1)],1)])],1)},a=[],o=n("2953"),s=n("4ec3"),r={data:function(){return{tableData:[],tableBody:[],tableHeader:[],addDialog:!1,addUserData:{username:"",password:"",rewritePassword:""},editUser:!1,editInfo:{username:"",oldName:"",oldPassword:""}}},components:{indexLayOut:o["a"]},created:function(){var t=this;"admin"==sessionStorage.getItem("username")?(console.log("管理员登录"),this.getUserList()):this.$confirm("非管理员用户不能访问，是否跳转到登录页","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$router.push("/login")})).catch((function(){t.$router.push("/login")}))},methods:{getUserList:function(){var t=this;Object(s["u"])().then((function(e){t.tableData.push(e.data.tableData),t.tableHeader=t.tableData[0].tableHeader,t.tableBody=t.tableData[0].tableBody}))},showDialog:function(t){this.addDialog=t},handleEdit:function(t,e){this.editUser=!0,this.editInfo.username=e.username,this.editInfo.oldPassword=e.password,this.editInfo.oldName=e.username},editClick:function(){var t=this;""==this.editInfo.username||""==this.editInfo.oldPassword?this.$message({message:"请输入正确信息后重试",type:"warning"}):Object(s["n"])(this.editInfo).then((function(e){switch(e.data.code){case 1:t.$message({message:"修改成功",type:"success"}),clearTimeout(n);var n=setTimeout((function(){window.location.reload()}),300);t.editUser=!1;break;case 0:t.$message({message:"用户不存在，请先注册",type:"warning"});break}}))},closeEditDialog:function(){this.editUser=!1,this.editInfo.username="",this.editInfo.oldPassword=""},handleDelete:function(t,e){var n=this,i={username:e.username};this.$confirm("此操作将永久删除".concat(i.username,"账户, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["i"])(i).then((function(t){if(1==t.data.code){n.$message({type:"success",message:"删除成功!"}),clearTimeout(e);var e=setTimeout((function(){window.location.reload()}),300)}}))})).catch((function(){n.$message({type:"info",message:"已取消删除"})}))},addUser:function(){this.addDialog=!0},register:function(){var t=this;""==this.addUserData.username||""==this.addUserData.password?this.$message({message:"请输入正确信息",type:"warning"}):this.addUserData.password!=this.addUserData.rewritePassword?this.$message({message:"两次密码不一致，请检查后重新输入",type:"warning"}):Object(s["A"])(this.addUserData).then((function(e){if(1==e.data.code){t.$message({message:"注册成功",type:"success"}),clearTimeout(n);var n=setTimeout((function(){window.location.reload()}),300);t.addDialog=!1}else t.$message({message:"用户已存在，请前往登录",type:"warning"})}))},closeDialog:function(){this.addDialog=!1,this.addUserData.username="",this.addUserData.password="",this.addUserData.rewritePassword=""}}},u=r,l=(n("a663"),n("2877")),d=Object(l["a"])(u,i,a,!1,null,"38cf8486",null);e["default"]=d.exports},"79f2":function(t,e,n){},a663:function(t,e,n){"use strict";n("5f47")},cf05:function(t,e,n){t.exports=n.p+"img/logo.93f11d75.png"},e030:function(t,e,n){"use strict";n("79f2")}}]);
//# sourceMappingURL=chunk-4d6aba6d.59314335.js.map